let cartList=[];function doc(e){return document.querySelector(e)}function docs(e){return document.querySelectorAll(e)}let mcardOverlay=docs(".mcard-images-overlay > *");let estWst=docs(".m-east-west > *");mcardOverlay[0].classList="index-js";function estWstFunction(s){for(let t=0;t<mcardOverlay.length;t++){let e=mcardOverlay[t].className==="index-js";if(e){try{if(mcardOverlay[t].previousElementSibling.previousElementSibling===null){estWst[0].classList.toggle("hidden-js")}else if(mcardOverlay[t].nextElementSibling.nextElementSibling===null){estWst[1].classList.toggle("hidden-js")}}catch{}}if(e&&s==="east"){mcardOverlay[t].className="";mcardOverlay[t].previousElementSibling.className="index-js";estWst[1].classList.add("hidden-js");return}else if(e&&s==="west"){mcardOverlay[t].className="";mcardOverlay[t].nextElementSibling.className="index-js";estWst[0].classList.add("hidden-js");return}}}estWst[1].classList.add("hidden-js");let articleCard=doc(".article-card");let mainCard=doc(".main-card");let naviNav2=doc(".navi-nav2");let naviNav1=doc(".navi-nav1");let bottomLeft=doc(".navi-bottom .left");let bottomRight=doc(".navi-bottom .right");function changePage(e){if(e==="left"&&naviNav1.firstElementChild.innerHTML==="learn more"){articleCard.classList.toggle("article-come-js");mainCard.classList.toggle("main-go-js");naviNav1.parentElement.className="";naviNav1.parentElement.classList.add("navi-overlay","js");naviNav1.classList.toggle("js");naviNav2.classList.toggle("js");naviNav1.firstElementChild.innerHTML="back";bottomLeft.classList.remove("js");bottomRight.classList.add("js");setTimeout(()=>{naviNav1.parentElement.insertAdjacentElement("afterbegin",naviNav1)},600)}else if(e==="left"&&naviNav1.firstElementChild.innerHTML==="back"){articleCard.classList.toggle("article-come-js");mainCard.classList.toggle("main-go-js");naviNav1.parentElement.className="";naviNav1.parentElement.classList.add("navi-overlay","go-js");naviNav1.classList.toggle("js");naviNav2.classList.toggle("js");naviNav1.firstElementChild.innerHTML="learn more";bottomLeft.classList.add("js");bottomRight.classList.remove("js");setTimeout(()=>{naviNav1.parentElement.insertAdjacentElement("beforeend",naviNav1)},600)}}bottomLeft.classList.toggle("js");let form=doc(".form-card");let divInp=docs("div input");divInp=[...divInp];console.log(divInp);divInp.shift();let formBrief=doc(".form-brief");let proPrice_TC=[...doc(".mcard-price strong").textContent];proPrice_TC=proPrice_TC.splice(2,Infinity).join("");function formOpener(){form.classList.add("js");if(cartList.length<1){let e=document.createElement("div");e.classList.add("form-brief-content","pro-from-none");e.innerHTML=`<div class="brief-brief"> ${doc(".mcard-images-overlay div").innerHTML} <div class="brief-side"><h3>${doc(".article-content .art-head h1").textContent}</h3><div><span class="digit">${proPrice_TC}</span></div><div class="price-maths"><button class='minus'>remove</button><div>1</div><button class="plus">+</button></div></div></div><div class="brief-total"> <b>Total = &nbsp;</b><strong>${proPrice_TC}</strong></div>`;formBrief.appendChild(e);cartList.push(doc(".article-content .art-head h1").textContent)}}let dateInput=doc(".form-date input");let dateBtn=doc("a.fd");function dateFunction(){let e=Date();let t=e.slice(0,11);if(dateBtn.textContent==="today"){dateInput.toggleAttribute("type");dateInput.setAttribute("placeholder",t);dateBtn.textContent="select date";dateInput.setAttribute("disabled","true")}else if(dateBtn.textContent==="select date"){dateInput.toggleAttribute("placeholder");dateBtn.textContent="today";dateInput.setAttribute("type","date");dateInput.removeAttribute("disabled")}}let requiredField=docs("input[required]");requiredField.forEach(e=>{let t=document.createElement("span");t.className="required-field";e.parentElement.insertAdjacentElement("beforeend",t);t.textContent="required"});let header=doc("header");function headExpandFoo(){window.scrollTo({top:-1e3,behavior:"instant"});setTimeout(function(){header.classList.toggle("js");naviNav2.parentElement.classList.toggle("scroll-js");document.body.classList.toggle("js")},200)}function plusAndMinus(r,o){let c=o.parentElement.parentElement.parentElement.parentElement;let d=cartList.findIndex(e=>e=c.querySelector(".brief-brief h3").textContent);if(cartList.length>0){let e=o.parentElement.parentElement.querySelector(".brief-side .digit");let t=o.parentElement.parentElement.querySelector(".brief-side .price-maths div");let s=c.querySelector(".brief-total strong");let i=1;let n=doc(".bulk-err-msg");form.appendChild(n);let a=Number(e.textContent.replace(/\D/g,""));i=Number(t.textContent);let l=Number(s.textContent.replace(/\D/g,""));if(r==="plus"&&i<4){s.textContent=`â‚µ ${l+a}`;t.textContent=i+1;t.previousElementSibling.textContent="-";t.previousElementSibling.style.cssText="font-size: 1.5rem; padding: 0 6px";if(i>=3){t.nextElementSibling.style.color="#aaa";n.classList.add("js");setTimeout(function(){n.classList.remove("js")},9e3)}cartList.unshift(c.querySelector(".brief-brief h3").textContent);t.previousElementSibling.style.color="#000"}else if(r==="minus"&&i>1){t.nextElementSibling.style.color="#000";s.textContent=l-a;t.textContent=i-1;if(i<=2){t.previousElementSibling.style.cssText="#f44";t.previousElementSibling.textContent="remove"}cartList.splice(d,1)}else if(i<=1){c.remove();console.log(cartList,"this is the la");cartList.splice(d,1);if(cartList.length<1){form.classList.remove("js")}}}}function copiedToCart(t){function e(e){return t.parentElement.parentElement.querySelector(e)}let s=Number(e(".pro-price strong").textContent.replace(/\D/g,""));let i=e(".pro-name h2").textContent;let n=document.createElement("div");n.classList.add("form-brief-content");n.innerHTML=`<div class="brief-brief">${e(".pro-img img").outerHTML}<div class="brief-side"><h3>${i}</h3><div><span> </span><span class="digit">${s}</span></div><div class="price-maths"><button class="minus">remove</button><div>1</div><button class="plus">+</button></div></div></div><div class="brief-total"> <b>Total = &nbsp;</b><strong>${s}</strong></div>`;docs(".form-brief-content").forEach(e=>{if(e.querySelector(".brief-side h3").textContent===i){plusAndMinus("plus",doc(".brief-brief .plus"))}});if(!cartList.includes(i)){doc(".form-brief").insertAdjacentElement("afterbegin",n);cartList.unshift(i)}naviNav2.classList.add("cart");naviNav2.lastElementChild.textContent=cartList.length}document.addEventListener("click",e=>{let s=e.target;if(s.classList.contains("m-east"))estWstFunction("east");else if(s.classList.contains("m-west"))estWstFunction("west");if(s.classList.contains("nl"))changePage("left");if(s.classList.contains("fo")||s.classList.contains("fo1"))formOpener();else if(s.classList.contains("fc")){if(doc(".pro-from-none")){cartList.shift();doc(".pro-from-none").remove()}form.classList.remove("js")}if(s.classList.contains("fd"))dateFunction();if(s.classList.contains("minus")){plusAndMinus("minus",s)}else if(s.classList.contains("plus")){plusAndMinus("plus",s)}divInp.forEach((e,t)=>{if(s.classList.contains("di"))s.parentElement.classList.add("js");if(e.parentElement.classList.contains("js"))e.parentElement.classList.remove("js");if(e.value.length>=1){e.parentElement.className="done-js"}else if(e.value.length<1){e.parentElement.className=""}});if(s.classList.contains("ho"))headExpandFoo();if(s.classList.contains("pc"))copiedToCart(s);if(s.classList.contains("po")){productOpener(s)}console.log(cartList)});window.addEventListener("scroll",e=>{let t=window.matchMedia("(max-height: 700px)");if(t.matches&&window.scrollY>100){naviNav2.parentElement.classList.add("scroll-js")}else if(window.scrollY<110){try{naviNav2.parentElement.classList.remove("scroll-js")}catch{}}});import{productList}from"./module.js";Object.entries(productList.products).map(([e,t])=>{let s=t.proName;let i=t.proPrice;let n=t.proBrief;let a=t.images;let l=document.createElement("div");l.classList.add("product","po");l.setAttribute("id",e);l.innerHTML=`<div class="product-back"> <div class="pro-img"> <img class="po" src="images/products/${a[0]}"><div class="pro-name"><h2>${s}</h2></div></div> <div class="pro-price"><strong>${i}</strong></div><div class="pro-cart pc"><div class="pc">+</div></div></div>`;doc(".header-content").appendChild(l)});function productOpener(e){let t=e.parentElement.parentElement.parentElement;let s=t.getAttribute("id");let i=productList.products[s];let n=[...docs(".art-head h1, .mcard-price strong, .mcard-description p, .article-content article p, .vit-material")];for(let s=0;s<i.images.length;s++){let e=document.createElement("img");let t=i.images[s];e.setAttribute("src",`./images/products/${t}`);mcardOverlay[s].replaceChildren(e);n[s].innerHTML=Object.values(i)[s];console.log(Object.values(i)[s])}headExpandFoo()}